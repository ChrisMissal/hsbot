# Description: Listens for Headspring Values Awards mentions
_ = require "underscore"

values = [47,113,117,111,116,101,32,80,97,115,115,105,111,110,32,102,111,114,32,76,101,97,114,110,105,110,103,32,97,110,100,32,71,114,111,119,116,104,10,9,78,101,118,101,114,32,103,111,110,110,97,32,103,105,118,101,32,121,111,117,32,117,112,44,32,110,101,118,101,114,32,103,111,110,110,97,32,108,101,116,32,121,111,117,32,100,111,119,110,10,10,68,114,105,118,101,32,102,111,114,32,101,120,99,101,108,108,101,110,99,101,58,10,9,78,101,118,101,114,32,103,111,110,110,97,32,114,117,110,32,97,114,111,117,110,100,32,97,110,100,32,100,101,115,101,114,116,32,121,111,117,10,10,80,101,111,112,108,101,32,97,114,101,32,86,97,108,117,101,100,10,9,78,101,118,101,114,32,103,111,110,110,97,32,109,97,107,101,32,121,111,117,32,99,114,121,44,32,110,101,118,101,114,32,103,111,110,110,97,32,115,97,121,32,103,111,111,100,98,121,101,10,10,72,111,110,101,115,116,32,67,111,109,109,117,110,105,99,97,116,105,111,110,10,9,78,101,118,101,114,32,103,111,110,110,97,32,116,101,108,108,32,97,32,108,105,101,32,97,110,100,32,104,117,114,116,32,121,111,117,10]

module.exports = (robot) ->
	robot.hear /\b(headspring values|hva|values award)\b/i, (msg) ->
		val = msg.random [1...10]
		if val == 1
			msg.send _.reduce(values, ((x, y) -> x + String.fromCharCode(y)), "")
